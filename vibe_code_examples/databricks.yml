# Databricks Asset Bundle configuration for AdTech Analytics
# See https://docs.databricks.com/dev-tools/bundles/index.html for documentation.

bundle:
  name: adtech-vibesession-analytics-bundle

workspace:
  root_path: /Workspace/Users/${workspace.current_user.userName}/adtech_analytics

sync:
  exclude:
    - "*.lvdash.json"

resources:
  apps:
    hello_world_app:
      name: 'hello-world-flask-app'
      source_code_path: ./src
      description: 'A minimal Hello World Flask app deployed on Databricks'
  
  dashboards:
    adtech_analytics_dashboard:
      display_name: "AdTech Analytics Dashboard"
      file_path: src/adtech_analytics_dashboard.lvdash.json
      warehouse_id: "862f1d757f0424f7"
      permissions:
        - level: CAN_MANAGE
          user_name: ${workspace.current_user.userName}
        - level: CAN_READ
          group_name: users

targets:
  dev:
    mode: development
    default: true
    workspace:
      host: https://e2-demo-field-eng.cloud.databricks.com
  
  # prod:
  #   mode: production
  #   workspace:
  #     host: https://e2-demo-field-eng.cloud.databricks.com
  #   resources:
  #     apps:
  #       hello_world_app:
  #         name: hello-world-app-prod

